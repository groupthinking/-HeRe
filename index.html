<!DOCTYPE html>\n<html lang="en">\n<head>\n  <meta charset="UTF-8">\n  <meta name="viewport" content="width=device-width, initial-scale=1.0">\n  <title>@ Shortcut Tool</title>\n  <style>\n    .suggestion-box {\n      border: 1px solid #ddd;\n      position: absolute;\n      background: white;\n      max-height: 200px;\n      overflow-y: auto;\n      display: none;\n      z-index: 999;\n      width: 200px;\n    }\n    .suggestion-box div {\n      padding: 8px;\n      cursor: pointer;\n    }\n    .suggestion-box div:hover {\n      background: #eee;\n    }\n  </style>\n</head>\n<body>\n  <textarea id="input-field" rows="10" cols="50" placeholder="Type @ to use services..."></textarea>\n  <div class="suggestion-box" id="suggestion-box"></div>\n  <script>\n    const services = [\n      { name: "AI Assistant", action: () => callAI() },\n      { name: "Email", action: () => openEmail() },\n      { name: "Search", action: () => openSearch() },\n      { name: "Teams Chat", action: () => openTeams() },\n      { name: "Google Chat", action: () => openGoogleChat() },\n      { name: "Slack", action: () => openSlack() },\n      { name: "Discord", action: () => openDiscord() },\n      { name: "Social Media", action: () => openSocialMedia() },\n      { name: "Open Any URL", action: () => openCustomURL() },\n      { name: "Custom User Input", action: () => handleCustomInput() }\n    ];\n    const inputField = document.getElementById(input-field);\n    const suggestionBox = document.getElementById(suggestion-box);\n    let selectedOptionIndex = -1;\n    inputField.addEventListener(keyup, function (event) {\n      const { value } = inputField;\n      const lastChar = value[value.length - 1];\n      if (lastChar === @) {\n        showSuggestions();\n      } else {\n        hideSuggestions();\n      }\n    });\n    inputField.addEventListener(keydown, function (event) {\n      const items = suggestionBox.getElementsByTagName(div);\n      if (event.key === ArrowDown) {\n        selectedOptionIndex = (selectedOptionIndex + 1) % items.length;\n        highlightOption(items);\n      } else if (event.key === ArrowUp) {\n        selectedOptionIndex = (selectedOptionIndex - 1 + items.length) % items.length;\n        highlightOption(items);\n      } else if (event.key === Enter && selectedOptionIndex >= 0) {\n        items[selectedOptionIndex].click();\n      }\n    });\n    function showSuggestions() {\n      suggestionBox.innerHTML = ; // Clear previous suggestions\n      services.forEach((service) => {\n        const serviceDiv = document.createElement(div);\n        serviceDiv.textContent = service.name;\n        serviceDiv.onclick = service.action;\n        suggestionBox.appendChild(serviceDiv);\n      });\n      suggestionBox.style.display = block; // Show dropdown\n      const { top, left, bottom } = inputField.getBoundingClientRect();\n      const screenHeight = window.innerHeight;\n      const dropdownHeight = suggestionBox.offsetHeight;\n      if (bottom + dropdownHeight > screenHeight) {\n        suggestionBox.style.top = `${top - dropdownHeight}px`; // Position above\n      } else {\n        suggestionBox.style.top = `${bottom}px`; // Position below by default\n      }\n      suggestionBox.style.left = `${left}px`;\n    }\n    function hideSuggestions() {\n      suggestionBox.style.display = none;\n    }\n    function highlightOption(items) {\n      for (let i = 0; i < items.length; i++) {\n        items[i].style.background = i === selectedOptionIndex ? #eee : #fff;\n      }\n    }\n    async function callAI() {\n      try {\n        const response = await fetch(https://api.your-ai-service.com/call, {\n          method: POST,\n          headers: {\n            Content-Type: application/json\n          },\n          body: JSON.stringify({ query: Your query here })\n        });\n        if (!response.ok) {\n          throw new Error(`API call failed with status ${response.status}`);\n        }\n        const data = await response.json();\n        alert(`AI Response: ${data.result}`);\n      } catch (error) {\n        console.error(Error calling AI:, error);\n        alert(Failed to reach AI service. Please try again later.);\n      } finally {\n        hideSuggestions();\n      }\n    }\n    function openEmail() {\n      window.location.href = mailto:someone@example.com;\n      hideSuggestions();\n    }\n    function openSearch() {\n      const query = prompt(Enter search query:);\n      if (query) {\n        window.open(`https://www.google.com/search?q=${encodeURIComponent(query)}`, _blank);\n      }\n      hideSuggestions();\n    }\n    function openTeams() {\n      window.open(https://teams.microsoft.com, _blank);\n      hideSuggestions();\n    }\n    function openGoogleChat() {\n      window.open(https://chat.google.com, _blank);\n      hideSuggestions();\n    }\n    function openSlack() {\n      window.open(https://slack.com, _blank);\n      hideSuggestions();\n    }\n    function openDiscord() {\n      window.open(https://discord.com, _blank);\n      hideSuggestions();\n    }\n    function openSocialMedia() {\n      window.open(https://www.instagram.com, _blank);\n      hideSuggestions();\n    }\n    function validateURL(url) {\n      const pattern = /^(https?:\/\/)?([a-zA-Z0-9-]+\.[a-zA-Z]{2,})([\/\w.-]*)*\/?$/;\n      return pattern.test(url);\n    }\n    function openCustomURL() {\n      const url = prompt(Enter the URL:);\n      if (url) {\n        const formattedURL = url.startsWith(http://) || url.startsWith(https://) ? url : `http://${url}`;\n        if (validateURL(formattedURL)) {\n          window.open(formattedURL, _blank);\n        } else {\n          alert(Invalid URL format. Please try again.);\n        }\n      }\n      hideSuggestions();\n    }\n    function sanitizeInput(input) {\n      const div = document.createElement(div);\n      div.innerText = input;\n      return div.innerHTML;\n    }\n    function handleCustomInput() {\n      const userInput = prompt(Enter your custom input:);\n      if (userInput) {\n        const sanitizedInput = sanitizeInput(userInput);\n        alert(`User Input: ${sanitizedInput}`);\n      }\n      hideSuggestions();\n    }\n  </script>\n</body>\n</html>
